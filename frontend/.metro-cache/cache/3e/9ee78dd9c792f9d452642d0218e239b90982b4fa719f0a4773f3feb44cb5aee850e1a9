{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useUpgradePrompt\", {\n    enumerable: true,\n    get: function () {\n      return useUpgradePrompt;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var useUpgradePrompt = options => {\n    _s();\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      showUpgradeModal = _useState2[0],\n      setShowUpgradeModal = _useState2[1];\n    var _useState3 = (0, _react.useState)(''),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      upgradeReason = _useState4[0],\n      setUpgradeReason = _useState4[1];\n    var checkResponse = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (response) {\n        if (response.status === 403) {\n          var error = yield response.json();\n          var message = error.detail || 'Upgrade required';\n\n          // Show upgrade modal with specific reason\n          setUpgradeReason(message);\n          setShowUpgradeModal(true);\n          return false;\n        }\n        return true;\n      });\n      return function checkResponse(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var handleUpgrade = tier => {\n      setShowUpgradeModal(false);\n      options?.onUpgrade?.(tier);\n    };\n    var closeModal = () => {\n      setShowUpgradeModal(false);\n      setUpgradeReason('');\n    };\n    return {\n      showUpgradeModal,\n      upgradeReason,\n      checkResponse,\n      handleUpgrade,\n      closeModal\n    };\n  };\n  _s(useUpgradePrompt, \"9Elbd2hjLr8IrFuHlmYphKc4kMw=\");\n});","lineCount":68,"map":[[13,2,7,0,"Object"],[13,8,7,0],[13,9,7,0,"defineProperty"],[13,23,7,0],[13,24,7,0,"exports"],[13,31,7,0],[14,4,7,0,"enumerable"],[14,14,7,0],[15,4,7,0,"get"],[15,7,7,0],[15,18,7,0,"get"],[15,19,7,0],[16,6,7,0],[16,13,7,0,"useUpgradePrompt"],[16,29,7,0],[17,4,7,0],[18,2,7,0],[19,2,41,2],[19,6,41,2,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,41,2],[19,45,41,2,"require"],[19,52,41,2],[19,53,41,2,"_dependencyMap"],[19,67,41,2],[20,2,41,2],[20,6,41,2,"_asyncToGenerator"],[20,23,41,2],[20,26,41,2,"_interopDefault"],[20,41,41,2],[20,42,41,2,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,41,2],[21,2,41,2],[21,6,41,2,"_babelRuntimeHelpersSlicedToArray"],[21,39,41,2],[21,42,41,2,"require"],[21,49,41,2],[21,50,41,2,"_dependencyMap"],[21,64,41,2],[22,2,41,2],[22,6,41,2,"_slicedToArray"],[22,20,41,2],[22,23,41,2,"_interopDefault"],[22,38,41,2],[22,39,41,2,"_babelRuntimeHelpersSlicedToArray"],[22,72,41,2],[23,2,1,0],[23,6,1,0,"_react"],[23,12,1,0],[23,15,1,0,"require"],[23,22,1,0],[23,23,1,0,"_dependencyMap"],[23,37,1,0],[24,2,7,7],[24,6,7,13,"useUpgradePrompt"],[24,22,7,29],[24,25,7,33,"options"],[24,32,7,63],[24,36,7,68],[25,4,7,68,"_s"],[25,6,7,68],[26,4,8,2],[26,8,8,2,"_useState"],[26,17,8,2],[26,20,8,50],[26,24,8,50,"useState"],[26,30,8,58],[26,31,8,58,"useState"],[26,39,8,58],[26,41,8,59],[26,46,8,64],[26,47,8,65],[27,6,8,65,"_useState2"],[27,16,8,65],[27,23,8,65,"_slicedToArray"],[27,37,8,65],[27,38,8,65,"default"],[27,45,8,65],[27,47,8,65,"_useState"],[27,56,8,65],[28,6,8,9,"showUpgradeModal"],[28,22,8,25],[28,25,8,25,"_useState2"],[28,35,8,25],[29,6,8,27,"setShowUpgradeModal"],[29,25,8,46],[29,28,8,46,"_useState2"],[29,38,8,46],[30,4,9,2],[30,8,9,2,"_useState3"],[30,18,9,2],[30,21,9,44],[30,25,9,44,"useState"],[30,31,9,52],[30,32,9,52,"useState"],[30,40,9,52],[30,42,9,61],[30,44,9,63],[30,45,9,64],[31,6,9,64,"_useState4"],[31,16,9,64],[31,23,9,64,"_slicedToArray"],[31,37,9,64],[31,38,9,64,"default"],[31,45,9,64],[31,47,9,64,"_useState3"],[31,57,9,64],[32,6,9,9,"upgradeReason"],[32,19,9,22],[32,22,9,22,"_useState4"],[32,32,9,22],[33,6,9,24,"setUpgradeReason"],[33,22,9,40],[33,25,9,40,"_useState4"],[33,35,9,40],[34,4,11,2],[34,8,11,8,"checkResponse"],[34,21,11,21],[35,6,11,21],[35,10,11,21,"_ref"],[35,14,11,21],[35,21,11,21,"_asyncToGenerator"],[35,38,11,21],[35,39,11,21,"default"],[35,46,11,21],[35,48,11,24],[35,59,11,31,"response"],[35,67,11,49],[35,69,11,54],[36,8,12,4],[36,12,12,8,"response"],[36,20,12,16],[36,21,12,17,"status"],[36,27,12,23],[36,32,12,28],[36,35,12,31],[36,37,12,33],[37,10,13,6],[37,14,13,12,"error"],[37,19,13,17],[37,28,13,26,"response"],[37,36,13,34],[37,37,13,35,"json"],[37,41,13,39],[37,42,13,40],[37,43,13,41],[38,10,14,6],[38,14,14,12,"message"],[38,21,14,19],[38,24,14,22,"error"],[38,29,14,27],[38,30,14,28,"detail"],[38,36,14,34],[38,40,14,38],[38,58,14,56],[40,10,16,6],[41,10,17,6,"setUpgradeReason"],[41,26,17,22],[41,27,17,23,"message"],[41,34,17,30],[41,35,17,31],[42,10,18,6,"setShowUpgradeModal"],[42,29,18,25],[42,30,18,26],[42,34,18,30],[42,35,18,31],[43,10,19,6],[43,17,19,13],[43,22,19,18],[44,8,20,4],[45,8,21,4],[45,15,21,11],[45,19,21,15],[46,6,22,2],[46,7,22,3],[47,6,22,3],[47,22,11,8,"checkResponse"],[47,35,11,21,"checkResponse"],[47,36,11,21,"_x"],[47,38,11,21],[48,8,11,21],[48,15,11,21,"_ref"],[48,19,11,21],[48,20,11,21,"apply"],[48,25,11,21],[48,32,11,21,"arguments"],[48,41,11,21],[49,6,11,21],[50,4,11,21],[50,7,22,3],[51,4,24,2],[51,8,24,8,"handleUpgrade"],[51,21,24,21],[51,24,24,25,"tier"],[51,28,24,50],[51,32,24,55],[52,6,25,4,"setShowUpgradeModal"],[52,25,25,23],[52,26,25,24],[52,31,25,29],[52,32,25,30],[53,6,26,4,"options"],[53,13,26,11],[53,15,26,13,"onUpgrade"],[53,24,26,22],[53,27,26,25,"tier"],[53,31,26,29],[53,32,26,30],[54,4,27,2],[54,5,27,3],[55,4,29,2],[55,8,29,8,"closeModal"],[55,18,29,18],[55,21,29,21,"closeModal"],[55,22,29,21],[55,27,29,27],[56,6,30,4,"setShowUpgradeModal"],[56,25,30,23],[56,26,30,24],[56,31,30,29],[56,32,30,30],[57,6,31,4,"setUpgradeReason"],[57,22,31,20],[57,23,31,21],[57,25,31,23],[57,26,31,24],[58,4,32,2],[58,5,32,3],[59,4,34,2],[59,11,34,9],[60,6,35,4,"showUpgradeModal"],[60,22,35,20],[61,6,36,4,"upgradeReason"],[61,19,36,17],[62,6,37,4,"checkResponse"],[62,19,37,17],[63,6,38,4,"handleUpgrade"],[63,19,38,17],[64,6,39,4,"closeModal"],[65,4,40,2],[65,5,40,3],[66,2,41,0],[66,3,41,1],[67,2,41,2,"_s"],[67,4,41,2],[67,5,7,13,"useUpgradePrompt"],[67,21,7,29],[68,0,7,29],[68,3]],"functionMap":{"names":["<global>","useUpgradePrompt","checkResponse","handleUpgrade","closeModal"],"mappings":"AAA;gCCM;wBCI;GDW;wBEE;GFG;qBGE;GHG;CDS"},"hasCjsExports":false},"type":"js/module"}]}