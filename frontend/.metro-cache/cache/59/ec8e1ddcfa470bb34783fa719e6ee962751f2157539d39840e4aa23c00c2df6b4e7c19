{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-paper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":130},"end":{"line":3,"column":42,"index":172}}],"key":"YHQ5RWDwHnATplNm7PrW3eHL/yU=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":173},"end":{"line":4,"column":62,"index":235}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":236},"end":{"line":5,"column":49,"index":285}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"../contexts/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":286},"end":{"line":6,"column":50,"index":336}}],"key":"oNCgyH4yx4pAIVZXLqqRGB2kuCY=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/auto-login.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AutoLoginScreen;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[2], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[4], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativePaper = require(_dependencyMap[5], \"react-native-paper\");\n  var _expoRouter = require(_dependencyMap[6], \"expo-router\");\n  var _expoSecureStore = require(_dependencyMap[7], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _contextsAuthContext = require(_dependencyMap[8], \"../contexts/AuthContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[9], \"react/jsx-dev-runtime\");\n  function AutoLoginScreen() {\n    _s();\n    const router = (0, _expoRouter.useRouter)();\n    const {\n      token\n    } = (0, _expoRouter.useLocalSearchParams)();\n    const {\n      refreshAuth\n    } = (0, _contextsAuthContext.useAuth)();\n    const [status, setStatus] = (0, _react.useState)('Logging you in...');\n    (0, _react.useEffect)(() => {\n      autoLogin();\n    }, [token]);\n    const autoLogin = async () => {\n      try {\n        if (!token || typeof token !== 'string') {\n          setStatus('Invalid login link');\n          setTimeout(() => router.replace('/(auth)/login'), 2000);\n          return;\n        }\n\n        // Store the token\n        if (Platform.default.OS === 'web') {\n          localStorage.setItem('auth_token', token);\n        } else {\n          await SecureStore.setItemAsync('auth_token', token);\n        }\n        setStatus('Success! Redirecting...');\n\n        // Refresh auth context\n        if (refreshAuth) {\n          await refreshAuth();\n        }\n\n        // Redirect to main app\n        setTimeout(() => {\n          router.replace('/(tabs)/journey');\n        }, 1000);\n      } catch (error) {\n        console.error('Auto-login error:', error);\n        setStatus('Login failed. Redirecting to login page...');\n        setTimeout(() => router.replace('/(auth)/login'), 2000);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n        size: \"large\",\n        color: \"#4DB8D8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNativePaper.Text, {\n        style: styles.text,\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AutoLoginScreen, \"OiRxR8RGL4nzckp1aLcr/x4yNvI=\", false, function () {\n    return [_expoRouter.useRouter, _expoRouter.useLocalSearchParams, _contextsAuthContext.useAuth];\n  });\n  _c = AutoLoginScreen;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#fff',\n      padding: 20\n    },\n    text: {\n      marginTop: 20,\n      fontSize: 16,\n      color: '#666',\n      textAlign: 'center'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"AutoLoginScreen\");\n});","lineCount":138,"map":[[29,2,8,15,"Object"],[29,8,8,15],[29,9,8,15,"defineProperty"],[29,23,8,15],[29,24,8,15,"exports"],[29,31,8,15],[30,4,8,15,"enumerable"],[30,14,8,15],[31,4,8,15,"get"],[31,7,8,15],[31,18,8,15,"get"],[31,19,8,15],[32,6,8,15],[32,13,8,15,"AutoLoginScreen"],[32,28,8,15],[33,4,8,15],[34,2,8,15],[35,2,1,0],[35,6,1,0,"_react"],[35,12,1,0],[35,15,1,0,"require"],[35,22,1,0],[35,23,1,0,"_dependencyMap"],[35,37,1,0],[36,2,1,51],[36,6,1,51,"_reactNativeWebDistExportsView"],[36,36,1,51],[36,39,1,51,"require"],[36,46,1,51],[36,47,1,51,"_dependencyMap"],[36,61,1,51],[37,2,1,51],[37,6,1,51,"View"],[37,10,1,51],[37,13,1,51,"_interopDefault"],[37,28,1,51],[37,29,1,51,"_reactNativeWebDistExportsView"],[37,59,1,51],[38,2,1,51],[38,6,1,51,"_reactNativeWebDistExportsStyleSheet"],[38,42,1,51],[38,45,1,51,"require"],[38,52,1,51],[38,53,1,51,"_dependencyMap"],[38,67,1,51],[39,2,1,51],[39,6,1,51,"StyleSheet"],[39,16,1,51],[39,19,1,51,"_interopDefault"],[39,34,1,51],[39,35,1,51,"_reactNativeWebDistExportsStyleSheet"],[39,71,1,51],[40,2,1,51],[40,6,1,51,"_reactNativeWebDistExportsPlatform"],[40,40,1,51],[40,43,1,51,"require"],[40,50,1,51],[40,51,1,51,"_dependencyMap"],[40,65,1,51],[41,2,1,51],[41,6,1,51,"Platform"],[41,14,1,51],[41,17,1,51,"_interopDefault"],[41,32,1,51],[41,33,1,51,"_reactNativeWebDistExportsPlatform"],[41,67,1,51],[42,2,1,51],[42,6,1,51,"_reactNativeWebDistExportsActivityIndicator"],[42,49,1,51],[42,52,1,51,"require"],[42,59,1,51],[42,60,1,51,"_dependencyMap"],[42,74,1,51],[43,2,1,51],[43,6,1,51,"ActivityIndicator"],[43,23,1,51],[43,26,1,51,"_interopDefault"],[43,41,1,51],[43,42,1,51,"_reactNativeWebDistExportsActivityIndicator"],[43,85,1,51],[44,2,3,0],[44,6,3,0,"_reactNativePaper"],[44,23,3,0],[44,26,3,0,"require"],[44,33,3,0],[44,34,3,0,"_dependencyMap"],[44,48,3,0],[45,2,4,0],[45,6,4,0,"_expoRouter"],[45,17,4,0],[45,20,4,0,"require"],[45,27,4,0],[45,28,4,0,"_dependencyMap"],[45,42,4,0],[46,2,5,0],[46,6,5,0,"_expoSecureStore"],[46,22,5,0],[46,25,5,0,"require"],[46,32,5,0],[46,33,5,0,"_dependencyMap"],[46,47,5,0],[47,2,5,0],[47,6,5,0,"SecureStore"],[47,17,5,0],[47,20,5,0,"_interopNamespace"],[47,37,5,0],[47,38,5,0,"_expoSecureStore"],[47,54,5,0],[48,2,6,0],[48,6,6,0,"_contextsAuthContext"],[48,26,6,0],[48,29,6,0,"require"],[48,36,6,0],[48,37,6,0,"_dependencyMap"],[48,51,6,0],[49,2,6,50],[49,6,6,50,"_reactJsxDevRuntime"],[49,25,6,50],[49,28,6,50,"require"],[49,35,6,50],[49,36,6,50,"_dependencyMap"],[49,50,6,50],[50,2,8,15],[50,11,8,24,"AutoLoginScreen"],[50,26,8,39,"AutoLoginScreen"],[50,27,8,39],[50,29,8,42],[51,4,8,42,"_s"],[51,6,8,42],[52,4,9,2],[52,10,9,8,"router"],[52,16,9,14],[52,19,9,17],[52,23,9,17,"useRouter"],[52,34,9,26],[52,35,9,26,"useRouter"],[52,44,9,26],[52,46,9,27],[52,47,9,28],[53,4,10,2],[53,10,10,8],[54,6,10,10,"token"],[55,4,10,16],[55,5,10,17],[55,8,10,20],[55,12,10,20,"useLocalSearchParams"],[55,23,10,40],[55,24,10,40,"useLocalSearchParams"],[55,44,10,40],[55,46,10,41],[55,47,10,42],[56,4,11,2],[56,10,11,8],[57,6,11,10,"refreshAuth"],[58,4,11,22],[58,5,11,23],[58,8,11,26],[58,12,11,26,"useAuth"],[58,32,11,33],[58,33,11,33,"useAuth"],[58,40,11,33],[58,42,11,34],[58,43,11,35],[59,4,12,2],[59,10,12,8],[59,11,12,9,"status"],[59,17,12,15],[59,19,12,17,"setStatus"],[59,28,12,26],[59,29,12,27],[59,32,12,30],[59,36,12,30,"useState"],[59,42,12,38],[59,43,12,38,"useState"],[59,51,12,38],[59,53,12,39],[59,72,12,58],[59,73,12,59],[60,4,14,2],[60,8,14,2,"useEffect"],[60,14,14,11],[60,15,14,11,"useEffect"],[60,24,14,11],[60,26,14,12],[60,32,14,18],[61,6,15,4,"autoLogin"],[61,15,15,13],[61,16,15,14],[61,17,15,15],[62,4,16,2],[62,5,16,3],[62,7,16,5],[62,8,16,6,"token"],[62,13,16,11],[62,14,16,12],[62,15,16,13],[63,4,18,2],[63,10,18,8,"autoLogin"],[63,19,18,17],[63,22,18,20],[63,28,18,20,"autoLogin"],[63,29,18,20],[63,34,18,32],[64,6,19,4],[64,10,19,8],[65,8,20,6],[65,12,20,10],[65,13,20,11,"token"],[65,18,20,16],[65,22,20,20],[65,29,20,27,"token"],[65,34,20,32],[65,39,20,37],[65,47,20,45],[65,49,20,47],[66,10,21,8,"setStatus"],[66,19,21,17],[66,20,21,18],[66,40,21,38],[66,41,21,39],[67,10,22,8,"setTimeout"],[67,20,22,18],[67,21,22,19],[67,27,22,25,"router"],[67,33,22,31],[67,34,22,32,"replace"],[67,41,22,39],[67,42,22,40],[67,57,22,55],[67,58,22,56],[67,60,22,58],[67,64,22,62],[67,65,22,63],[68,10,23,8],[69,8,24,6],[71,8,26,6],[72,8,27,6],[72,12,27,10,"Platform"],[72,20,27,18],[72,21,27,18,"default"],[72,28,27,18],[72,29,27,19,"OS"],[72,31,27,21],[72,36,27,26],[72,41,27,31],[72,43,27,33],[73,10,28,8,"localStorage"],[73,22,28,20],[73,23,28,21,"setItem"],[73,30,28,28],[73,31,28,29],[73,43,28,41],[73,45,28,43,"token"],[73,50,28,48],[73,51,28,49],[74,8,29,6],[74,9,29,7],[74,15,29,13],[75,10,30,8],[75,16,30,14,"SecureStore"],[75,27,30,25],[75,28,30,26,"setItemAsync"],[75,40,30,38],[75,41,30,39],[75,53,30,51],[75,55,30,53,"token"],[75,60,30,58],[75,61,30,59],[76,8,31,6],[77,8,33,6,"setStatus"],[77,17,33,15],[77,18,33,16],[77,43,33,41],[77,44,33,42],[79,8,35,6],[80,8,36,6],[80,12,36,10,"refreshAuth"],[80,23,36,21],[80,25,36,23],[81,10,37,8],[81,16,37,14,"refreshAuth"],[81,27,37,25],[81,28,37,26],[81,29,37,27],[82,8,38,6],[84,8,40,6],[85,8,41,6,"setTimeout"],[85,18,41,16],[85,19,41,17],[85,25,41,23],[86,10,42,8,"router"],[86,16,42,14],[86,17,42,15,"replace"],[86,24,42,22],[86,25,42,23],[86,42,42,40],[86,43,42,41],[87,8,43,6],[87,9,43,7],[87,11,43,9],[87,15,43,13],[87,16,43,14],[88,6,45,4],[88,7,45,5],[88,8,45,6],[88,15,45,13,"error"],[88,20,45,18],[88,22,45,20],[89,8,46,6,"console"],[89,15,46,13],[89,16,46,14,"error"],[89,21,46,19],[89,22,46,20],[89,41,46,39],[89,43,46,41,"error"],[89,48,46,46],[89,49,46,47],[90,8,47,6,"setStatus"],[90,17,47,15],[90,18,47,16],[90,62,47,60],[90,63,47,61],[91,8,48,6,"setTimeout"],[91,18,48,16],[91,19,48,17],[91,25,48,23,"router"],[91,31,48,29],[91,32,48,30,"replace"],[91,39,48,37],[91,40,48,38],[91,55,48,53],[91,56,48,54],[91,58,48,56],[91,62,48,60],[91,63,48,61],[92,6,49,4],[93,4,50,2],[93,5,50,3],[94,4,52,2],[94,24,53,4],[94,28,53,4,"_reactJsxDevRuntime"],[94,47,53,4],[94,48,53,4,"jsxDEV"],[94,54,53,4],[94,56,53,5,"View"],[94,60,53,9],[94,61,53,9,"default"],[94,68,53,9],[95,6,53,10,"style"],[95,11,53,15],[95,13,53,17,"styles"],[95,19,53,23],[95,20,53,24,"container"],[95,29,53,34],[96,6,53,34,"children"],[96,14,53,34],[96,30,54,6],[96,34,54,6,"_reactJsxDevRuntime"],[96,53,54,6],[96,54,54,6,"jsxDEV"],[96,60,54,6],[96,62,54,7,"ActivityIndicator"],[96,79,54,24],[96,80,54,24,"default"],[96,87,54,24],[97,8,54,25,"size"],[97,12,54,29],[97,14,54,30],[97,21,54,37],[98,8,54,38,"color"],[98,13,54,43],[98,15,54,44],[99,6,54,53],[100,8,54,53,"fileName"],[100,16,54,53],[100,18,54,53,"_jsxFileName"],[100,30,54,53],[101,8,54,53,"lineNumber"],[101,18,54,53],[102,8,54,53,"columnNumber"],[102,20,54,53],[103,6,54,53],[103,13,54,55],[103,14,54,56],[103,29,55,6],[103,33,55,6,"_reactJsxDevRuntime"],[103,52,55,6],[103,53,55,6,"jsxDEV"],[103,59,55,6],[103,61,55,7,"_reactNativePaper"],[103,78,55,11],[103,79,55,11,"Text"],[103,83,55,11],[104,8,55,12,"style"],[104,13,55,17],[104,15,55,19,"styles"],[104,21,55,25],[104,22,55,26,"text"],[104,26,55,31],[105,8,55,31,"children"],[105,16,55,31],[105,18,55,33,"status"],[106,6,55,39],[107,8,55,39,"fileName"],[107,16,55,39],[107,18,55,39,"_jsxFileName"],[107,30,55,39],[108,8,55,39,"lineNumber"],[108,18,55,39],[109,8,55,39,"columnNumber"],[109,20,55,39],[110,6,55,39],[110,13,55,46],[110,14,55,47],[111,4,55,47],[112,6,55,47,"fileName"],[112,14,55,47],[112,16,55,47,"_jsxFileName"],[112,28,55,47],[113,6,55,47,"lineNumber"],[113,16,55,47],[114,6,55,47,"columnNumber"],[114,18,55,47],[115,4,55,47],[115,11,56,10],[115,12,56,11],[116,2,58,0],[117,2,58,1,"_s"],[117,4,58,1],[117,5,8,24,"AutoLoginScreen"],[117,20,8,39],[118,4,8,39],[118,12,9,17,"useRouter"],[118,23,9,26],[118,24,9,26,"useRouter"],[118,33,9,26],[118,35,10,20,"useLocalSearchParams"],[118,46,10,40],[118,47,10,40,"useLocalSearchParams"],[118,67,10,40],[118,69,11,26,"useAuth"],[118,89,11,33],[118,90,11,33,"useAuth"],[118,97,11,33],[119,2,11,33],[120,2,11,33,"_c"],[120,4,11,33],[120,7,8,24,"AutoLoginScreen"],[120,22,8,39],[121,2,60,0],[121,8,60,6,"styles"],[121,14,60,12],[121,17,60,15,"StyleSheet"],[121,27,60,25],[121,28,60,25,"default"],[121,35,60,25],[121,36,60,26,"create"],[121,42,60,32],[121,43,60,33],[122,4,61,2,"container"],[122,13,61,11],[122,15,61,13],[123,6,62,4,"flex"],[123,10,62,8],[123,12,62,10],[123,13,62,11],[124,6,63,4,"justifyContent"],[124,20,63,18],[124,22,63,20],[124,30,63,28],[125,6,64,4,"alignItems"],[125,16,64,14],[125,18,64,16],[125,26,64,24],[126,6,65,4,"backgroundColor"],[126,21,65,19],[126,23,65,21],[126,29,65,27],[127,6,66,4,"padding"],[127,13,66,11],[127,15,66,13],[128,4,67,2],[128,5,67,3],[129,4,68,2,"text"],[129,8,68,6],[129,10,68,8],[130,6,69,4,"marginTop"],[130,15,69,13],[130,17,69,15],[130,19,69,17],[131,6,70,4,"fontSize"],[131,14,70,12],[131,16,70,14],[131,18,70,16],[132,6,71,4,"color"],[132,11,71,9],[132,13,71,11],[132,19,71,17],[133,6,72,4,"textAlign"],[133,15,72,13],[133,17,72,15],[134,4,73,2],[135,2,74,0],[135,3,74,1],[135,4,74,2],[136,2,74,3],[136,6,74,3,"_c"],[136,8,74,3],[137,2,74,3,"$RefreshReg$"],[137,14,74,3],[137,15,74,3,"_c"],[137,17,74,3],[138,0,74,3],[138,3]],"functionMap":{"names":["<global>","AutoLoginScreen","useEffect$argument_0","autoLogin","setTimeout$argument_0"],"mappings":"AAA;eCO;YCM;GDE;oBEE;mBCI,qCD;iBCmB;ODE;iBCK,qCD;GFE;CDQ"},"hasCjsExports":false},"type":"js/module"}]}