{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-paper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":130},"end":{"line":3,"column":42,"index":172}}],"key":"YHQ5RWDwHnATplNm7PrW3eHL/yU=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":173},"end":{"line":4,"column":62,"index":235}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":236},"end":{"line":5,"column":49,"index":285}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"../contexts/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":286},"end":{"line":6,"column":50,"index":336}}],"key":"oNCgyH4yx4pAIVZXLqqRGB2kuCY=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/auto-login.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AutoLoginScreen;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[2], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[4], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativePaper = require(_dependencyMap[5], \"react-native-paper\");\n  var _expoRouter = require(_dependencyMap[6], \"expo-router\");\n  var _expoSecureStore = require(_dependencyMap[7], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _contextsAuthContext = require(_dependencyMap[8], \"../contexts/AuthContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[9], \"react/jsx-dev-runtime\");\n  function AutoLoginScreen() {\n    const router = (0, _expoRouter.useRouter)();\n    const {\n      token\n    } = (0, _expoRouter.useLocalSearchParams)();\n    const {\n      refreshAuth\n    } = (0, _contextsAuthContext.useAuth)();\n    const [status, setStatus] = (0, _react.useState)('Logging you in...');\n    (0, _react.useEffect)(() => {\n      autoLogin();\n    }, [token]);\n    const autoLogin = async () => {\n      try {\n        if (!token || typeof token !== 'string') {\n          setStatus('Invalid login link');\n          setTimeout(() => router.replace('/(auth)/login'), 2000);\n          return;\n        }\n\n        // Store the token\n        if (Platform.default.OS === 'web') {\n          localStorage.setItem('auth_token', token);\n        } else {\n          await SecureStore.setItemAsync('auth_token', token);\n        }\n        setStatus('Success! Redirecting...');\n\n        // Refresh auth context\n        if (refreshAuth) {\n          await refreshAuth();\n        }\n\n        // Redirect to main app\n        setTimeout(() => {\n          router.replace('/(tabs)/journey');\n        }, 1000);\n      } catch (error) {\n        console.error('Auto-login error:', error);\n        setStatus('Login failed. Redirecting to login page...');\n        setTimeout(() => router.replace('/(auth)/login'), 2000);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n        size: \"large\",\n        color: \"#667eea\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNativePaper.Text, {\n        style: styles.text,\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this);\n  }\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#fff',\n      padding: 20\n    },\n    text: {\n      marginTop: 20,\n      fontSize: 16,\n      color: '#666',\n      textAlign: 'center'\n    }\n  });\n});","lineCount":130,"map":[[28,2,8,15,"Object"],[28,8,8,15],[28,9,8,15,"defineProperty"],[28,23,8,15],[28,24,8,15,"exports"],[28,31,8,15],[29,4,8,15,"enumerable"],[29,14,8,15],[30,4,8,15,"get"],[30,7,8,15],[30,18,8,15,"get"],[30,19,8,15],[31,6,8,15],[31,13,8,15,"AutoLoginScreen"],[31,28,8,15],[32,4,8,15],[33,2,8,15],[34,2,1,0],[34,6,1,0,"_react"],[34,12,1,0],[34,15,1,0,"require"],[34,22,1,0],[34,23,1,0,"_dependencyMap"],[34,37,1,0],[35,2,1,51],[35,6,1,51,"_reactNativeWebDistExportsView"],[35,36,1,51],[35,39,1,51,"require"],[35,46,1,51],[35,47,1,51,"_dependencyMap"],[35,61,1,51],[36,2,1,51],[36,6,1,51,"View"],[36,10,1,51],[36,13,1,51,"_interopDefault"],[36,28,1,51],[36,29,1,51,"_reactNativeWebDistExportsView"],[36,59,1,51],[37,2,1,51],[37,6,1,51,"_reactNativeWebDistExportsStyleSheet"],[37,42,1,51],[37,45,1,51,"require"],[37,52,1,51],[37,53,1,51,"_dependencyMap"],[37,67,1,51],[38,2,1,51],[38,6,1,51,"StyleSheet"],[38,16,1,51],[38,19,1,51,"_interopDefault"],[38,34,1,51],[38,35,1,51,"_reactNativeWebDistExportsStyleSheet"],[38,71,1,51],[39,2,1,51],[39,6,1,51,"_reactNativeWebDistExportsPlatform"],[39,40,1,51],[39,43,1,51,"require"],[39,50,1,51],[39,51,1,51,"_dependencyMap"],[39,65,1,51],[40,2,1,51],[40,6,1,51,"Platform"],[40,14,1,51],[40,17,1,51,"_interopDefault"],[40,32,1,51],[40,33,1,51,"_reactNativeWebDistExportsPlatform"],[40,67,1,51],[41,2,1,51],[41,6,1,51,"_reactNativeWebDistExportsActivityIndicator"],[41,49,1,51],[41,52,1,51,"require"],[41,59,1,51],[41,60,1,51,"_dependencyMap"],[41,74,1,51],[42,2,1,51],[42,6,1,51,"ActivityIndicator"],[42,23,1,51],[42,26,1,51,"_interopDefault"],[42,41,1,51],[42,42,1,51,"_reactNativeWebDistExportsActivityIndicator"],[42,85,1,51],[43,2,3,0],[43,6,3,0,"_reactNativePaper"],[43,23,3,0],[43,26,3,0,"require"],[43,33,3,0],[43,34,3,0,"_dependencyMap"],[43,48,3,0],[44,2,4,0],[44,6,4,0,"_expoRouter"],[44,17,4,0],[44,20,4,0,"require"],[44,27,4,0],[44,28,4,0,"_dependencyMap"],[44,42,4,0],[45,2,5,0],[45,6,5,0,"_expoSecureStore"],[45,22,5,0],[45,25,5,0,"require"],[45,32,5,0],[45,33,5,0,"_dependencyMap"],[45,47,5,0],[46,2,5,0],[46,6,5,0,"SecureStore"],[46,17,5,0],[46,20,5,0,"_interopNamespace"],[46,37,5,0],[46,38,5,0,"_expoSecureStore"],[46,54,5,0],[47,2,6,0],[47,6,6,0,"_contextsAuthContext"],[47,26,6,0],[47,29,6,0,"require"],[47,36,6,0],[47,37,6,0,"_dependencyMap"],[47,51,6,0],[48,2,6,50],[48,6,6,50,"_reactJsxDevRuntime"],[48,25,6,50],[48,28,6,50,"require"],[48,35,6,50],[48,36,6,50,"_dependencyMap"],[48,50,6,50],[49,2,8,15],[49,11,8,24,"AutoLoginScreen"],[49,26,8,39,"AutoLoginScreen"],[49,27,8,39],[49,29,8,42],[50,4,9,2],[50,10,9,8,"router"],[50,16,9,14],[50,19,9,17],[50,23,9,17,"useRouter"],[50,34,9,26],[50,35,9,26,"useRouter"],[50,44,9,26],[50,46,9,27],[50,47,9,28],[51,4,10,2],[51,10,10,8],[52,6,10,10,"token"],[53,4,10,16],[53,5,10,17],[53,8,10,20],[53,12,10,20,"useLocalSearchParams"],[53,23,10,40],[53,24,10,40,"useLocalSearchParams"],[53,44,10,40],[53,46,10,41],[53,47,10,42],[54,4,11,2],[54,10,11,8],[55,6,11,10,"refreshAuth"],[56,4,11,22],[56,5,11,23],[56,8,11,26],[56,12,11,26,"useAuth"],[56,32,11,33],[56,33,11,33,"useAuth"],[56,40,11,33],[56,42,11,34],[56,43,11,35],[57,4,12,2],[57,10,12,8],[57,11,12,9,"status"],[57,17,12,15],[57,19,12,17,"setStatus"],[57,28,12,26],[57,29,12,27],[57,32,12,30],[57,36,12,30,"useState"],[57,42,12,38],[57,43,12,38,"useState"],[57,51,12,38],[57,53,12,39],[57,72,12,58],[57,73,12,59],[58,4,14,2],[58,8,14,2,"useEffect"],[58,14,14,11],[58,15,14,11,"useEffect"],[58,24,14,11],[58,26,14,12],[58,32,14,18],[59,6,15,4,"autoLogin"],[59,15,15,13],[59,16,15,14],[59,17,15,15],[60,4,16,2],[60,5,16,3],[60,7,16,5],[60,8,16,6,"token"],[60,13,16,11],[60,14,16,12],[60,15,16,13],[61,4,18,2],[61,10,18,8,"autoLogin"],[61,19,18,17],[61,22,18,20],[61,28,18,20,"autoLogin"],[61,29,18,20],[61,34,18,32],[62,6,19,4],[62,10,19,8],[63,8,20,6],[63,12,20,10],[63,13,20,11,"token"],[63,18,20,16],[63,22,20,20],[63,29,20,27,"token"],[63,34,20,32],[63,39,20,37],[63,47,20,45],[63,49,20,47],[64,10,21,8,"setStatus"],[64,19,21,17],[64,20,21,18],[64,40,21,38],[64,41,21,39],[65,10,22,8,"setTimeout"],[65,20,22,18],[65,21,22,19],[65,27,22,25,"router"],[65,33,22,31],[65,34,22,32,"replace"],[65,41,22,39],[65,42,22,40],[65,57,22,55],[65,58,22,56],[65,60,22,58],[65,64,22,62],[65,65,22,63],[66,10,23,8],[67,8,24,6],[69,8,26,6],[70,8,27,6],[70,12,27,10,"Platform"],[70,20,27,18],[70,21,27,18,"default"],[70,28,27,18],[70,29,27,19,"OS"],[70,31,27,21],[70,36,27,26],[70,41,27,31],[70,43,27,33],[71,10,28,8,"localStorage"],[71,22,28,20],[71,23,28,21,"setItem"],[71,30,28,28],[71,31,28,29],[71,43,28,41],[71,45,28,43,"token"],[71,50,28,48],[71,51,28,49],[72,8,29,6],[72,9,29,7],[72,15,29,13],[73,10,30,8],[73,16,30,14,"SecureStore"],[73,27,30,25],[73,28,30,26,"setItemAsync"],[73,40,30,38],[73,41,30,39],[73,53,30,51],[73,55,30,53,"token"],[73,60,30,58],[73,61,30,59],[74,8,31,6],[75,8,33,6,"setStatus"],[75,17,33,15],[75,18,33,16],[75,43,33,41],[75,44,33,42],[77,8,35,6],[78,8,36,6],[78,12,36,10,"refreshAuth"],[78,23,36,21],[78,25,36,23],[79,10,37,8],[79,16,37,14,"refreshAuth"],[79,27,37,25],[79,28,37,26],[79,29,37,27],[80,8,38,6],[82,8,40,6],[83,8,41,6,"setTimeout"],[83,18,41,16],[83,19,41,17],[83,25,41,23],[84,10,42,8,"router"],[84,16,42,14],[84,17,42,15,"replace"],[84,24,42,22],[84,25,42,23],[84,42,42,40],[84,43,42,41],[85,8,43,6],[85,9,43,7],[85,11,43,9],[85,15,43,13],[85,16,43,14],[86,6,45,4],[86,7,45,5],[86,8,45,6],[86,15,45,13,"error"],[86,20,45,18],[86,22,45,20],[87,8,46,6,"console"],[87,15,46,13],[87,16,46,14,"error"],[87,21,46,19],[87,22,46,20],[87,41,46,39],[87,43,46,41,"error"],[87,48,46,46],[87,49,46,47],[88,8,47,6,"setStatus"],[88,17,47,15],[88,18,47,16],[88,62,47,60],[88,63,47,61],[89,8,48,6,"setTimeout"],[89,18,48,16],[89,19,48,17],[89,25,48,23,"router"],[89,31,48,29],[89,32,48,30,"replace"],[89,39,48,37],[89,40,48,38],[89,55,48,53],[89,56,48,54],[89,58,48,56],[89,62,48,60],[89,63,48,61],[90,6,49,4],[91,4,50,2],[91,5,50,3],[92,4,52,2],[92,24,53,4],[92,28,53,4,"_reactJsxDevRuntime"],[92,47,53,4],[92,48,53,4,"jsxDEV"],[92,54,53,4],[92,56,53,5,"View"],[92,60,53,9],[92,61,53,9,"default"],[92,68,53,9],[93,6,53,10,"style"],[93,11,53,15],[93,13,53,17,"styles"],[93,19,53,23],[93,20,53,24,"container"],[93,29,53,34],[94,6,53,34,"children"],[94,14,53,34],[94,30,54,6],[94,34,54,6,"_reactJsxDevRuntime"],[94,53,54,6],[94,54,54,6,"jsxDEV"],[94,60,54,6],[94,62,54,7,"ActivityIndicator"],[94,79,54,24],[94,80,54,24,"default"],[94,87,54,24],[95,8,54,25,"size"],[95,12,54,29],[95,14,54,30],[95,21,54,37],[96,8,54,38,"color"],[96,13,54,43],[96,15,54,44],[97,6,54,53],[98,8,54,53,"fileName"],[98,16,54,53],[98,18,54,53,"_jsxFileName"],[98,30,54,53],[99,8,54,53,"lineNumber"],[99,18,54,53],[100,8,54,53,"columnNumber"],[100,20,54,53],[101,6,54,53],[101,13,54,55],[101,14,54,56],[101,29,55,6],[101,33,55,6,"_reactJsxDevRuntime"],[101,52,55,6],[101,53,55,6,"jsxDEV"],[101,59,55,6],[101,61,55,7,"_reactNativePaper"],[101,78,55,11],[101,79,55,11,"Text"],[101,83,55,11],[102,8,55,12,"style"],[102,13,55,17],[102,15,55,19,"styles"],[102,21,55,25],[102,22,55,26,"text"],[102,26,55,31],[103,8,55,31,"children"],[103,16,55,31],[103,18,55,33,"status"],[104,6,55,39],[105,8,55,39,"fileName"],[105,16,55,39],[105,18,55,39,"_jsxFileName"],[105,30,55,39],[106,8,55,39,"lineNumber"],[106,18,55,39],[107,8,55,39,"columnNumber"],[107,20,55,39],[108,6,55,39],[108,13,55,46],[108,14,55,47],[109,4,55,47],[110,6,55,47,"fileName"],[110,14,55,47],[110,16,55,47,"_jsxFileName"],[110,28,55,47],[111,6,55,47,"lineNumber"],[111,16,55,47],[112,6,55,47,"columnNumber"],[112,18,55,47],[113,4,55,47],[113,11,56,10],[113,12,56,11],[114,2,58,0],[115,2,60,0],[115,8,60,6,"styles"],[115,14,60,12],[115,17,60,15,"StyleSheet"],[115,27,60,25],[115,28,60,25,"default"],[115,35,60,25],[115,36,60,26,"create"],[115,42,60,32],[115,43,60,33],[116,4,61,2,"container"],[116,13,61,11],[116,15,61,13],[117,6,62,4,"flex"],[117,10,62,8],[117,12,62,10],[117,13,62,11],[118,6,63,4,"justifyContent"],[118,20,63,18],[118,22,63,20],[118,30,63,28],[119,6,64,4,"alignItems"],[119,16,64,14],[119,18,64,16],[119,26,64,24],[120,6,65,4,"backgroundColor"],[120,21,65,19],[120,23,65,21],[120,29,65,27],[121,6,66,4,"padding"],[121,13,66,11],[121,15,66,13],[122,4,67,2],[122,5,67,3],[123,4,68,2,"text"],[123,8,68,6],[123,10,68,8],[124,6,69,4,"marginTop"],[124,15,69,13],[124,17,69,15],[124,19,69,17],[125,6,70,4,"fontSize"],[125,14,70,12],[125,16,70,14],[125,18,70,16],[126,6,71,4,"color"],[126,11,71,9],[126,13,71,11],[126,19,71,17],[127,6,72,4,"textAlign"],[127,15,72,13],[127,17,72,15],[128,4,73,2],[129,2,74,0],[129,3,74,1],[129,4,74,2],[130,0,74,3],[130,3]],"functionMap":{"names":["<global>","AutoLoginScreen","useEffect$argument_0","autoLogin","setTimeout$argument_0"],"mappings":"AAA;eCO;YCM;GDE;oBEE;mBCI,qCD;iBCmB;ODE;iBCK,qCD;GFE;CDQ"},"hasCjsExports":false},"type":"js/module"}]}